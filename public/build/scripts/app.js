!function t(e,n,r){function a(i,s){if(!n[i]){if(!e[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(c)return c(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return a(n?n:t)},u,u.exports,t,e,n,r)}return n[i].exports}for(var c="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t){t("./d3-charts.js")()},{"./d3-charts.js":3}],2:[function(t,e){"use strict";var n=(t("d3"),{parsePrice:function(t){var e={};return e.time=new Date(t.time),e.price=+t.lastPrice,e},filterDataByDateRange:function(t,e){var n=e[0],r=e[1];return t.filter(function(t){return new Date(t.time)>=n&&new Date(t.time)<=r})}});e.exports=n},{d3:"d3"}],3:[function(t,e){"use strict";var n=t("d3"),r=t("./b3.js"),a=t("./linechart.js"),c=t("./table.js"),i=t("./websockets.js");e.exports=function(){var t=parseInt(n.select(".content-container").style("width"));n.json("/prices",function(e,s){function l(){var t,e;d.empty()?(t=n.extent(s,function(t){return t.time}),e=s):(t=d.extent(),e=r.filterDataByDateRange(s,t)),n.selectAll(".line").attr("clip-path","url(#clip)"),n.selectAll("circle.point").attr("clip-path","url(#clip)"),f.brushDomain(t),n.select("#focus").datum(s).call(f),n.select("table").remove(),n.select("#data-table").datum(e).call(h),n.select("#context").datum(s).call(p)}function o(){var t=d.extent();l(),n.select(".brush").call(d.extent(t))}function u(){t=parseInt(n.select(".content-container").style("width")),f.width(t),p.width(t),n.select("#focus").datum(s).call(f),n.select("#context").datum(s).call(p)}s=s.prices.reverse().map(r.parsePrice),i.on("new",function(t){var e=r.parsePrice(t);JSON.stringify(e)!==JSON.stringify(s[s.length-1])&&(s.push(e),o())});var p=a().x(function(t){return t.time}).y(function(t){return t.price}).yPadding(.01).height(100).width(t),f=a().x(function(t){return t.time}).y(function(t){return t.price}).width(t).margin({top:10,right:10,bottom:30,left:40}).appendYAxis(!0).appendDataPoints(!0);n.select("#context").datum(s).call(p),n.select("#focus").datum(s).call(f);var d=n.svg.brush().x(p.xScale()).on("brush",l);n.select("#context svg").append("g").attr("class","x brush").call(d).selectAll("rect").attr("y",-6).attr("height",p.height()+7).attr("transform","translate("+p.margin().left+",0)");var h=c();n.select("#data-table").datum(s).call(h),n.select(window).on("resize",u)})}},{"./b3.js":2,"./linechart.js":4,"./table.js":5,"./websockets.js":6,d3:"d3"}],4:[function(t,e){"use strict";function n(){function t(t){t.each(function(t){x=t.map(function(t,e){return[w.call(x,t,e),D.call(x,t,e)]}),e(),n(),a(this),c(),s(),l(),O===!0&&o(),N===!0&&u(),i()})}function e(){m?A.domain(m).range([0,y-v.left-v.right]):A.domain(r.extent(x,function(t){return t[0]})).range([0,y-v.left-v.right])}function n(){var t=r.extent(x,function(t){return t[1]}),e=t[0]*(1-q),n=t[1]*(1+q);j.domain([e,n]).range([b-v.top-v.bottom,0])}function a(t){d=r.select(t).selectAll("svg").data([x]),h=d.enter().append("svg").append("g"),h.append("path").attr("class","line"),h.append("g").attr("class","x axis"),O===!0&&h.append("g").attr("class","y axis")}function c(){d.attr("width",y).attr("height",b),g=d.select("g").attr("transform","translate("+v.left+","+v.top+")")}function i(){d.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",y).attr("height",b)}function s(){g.select(".line").attr("d",S)}function l(){g.select(".x.axis").attr("transform","translate(0,"+j.range()[0]+")").call(k)}function o(){g.select(".y.axis").call(P)}function u(){h.append("g").attr("class","points"),g.select("g.points").selectAll("circle.point").data(x).enter().append("circle").attr("class","point").attr("r",3.5),g.selectAll("circle.point").attr("cx",function(t){return A(t[0])}).attr("cy",function(t){return j(t[1])})}function p(t){return A(t[0])}function f(t){return j(t[1])}var d,h,g,m,x=[],v={top:10,right:10,bottom:20,left:40},y=960,b=500,w=function(t){return t[0]},D=function(t){return t[1]},A=(r.time.scale().range([0,y]),r.scale.linear().range([b,0]),r.time.scale()),j=r.scale.linear(),k=r.svg.axis().scale(A).orient("bottom"),P=r.svg.axis().scale(j).orient("left"),S=r.svg.line().x(p).y(f),q=.025,O=!1,N=!1;return t.margin=function(t){return arguments.length?(v=t,this):v},t.width=function(t){return arguments.length?(y=t,this):y},t.height=function(t){return arguments.length?(b=t,this):b},t.x=function(t){return arguments.length?(w=t,this):w},t.y=function(t){return arguments.length?(D=t,this):D},t.appendYAxis=function(t){return arguments.length?(O=t,this):O},t.appendDataPoints=function(t){return arguments.length?(N=t,this):N},t.xScale=function(t){return arguments.length?(A=t,this):A},t.brushDomain=function(t){return arguments.length?(m=t,this):m},t.yPadding=function(t){return arguments.length?(q=t,this):q},t}var r=t("d3");e.exports=n},{d3:"d3"}],5:[function(t,e){"use strict";function n(){function t(t){return t.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}function e(e){e.each(function(e){var n=[],a=e[0];for(var c in a)n.push(c);var i=(e.map(function(t){return n.map(function(e){return{column:e,value:t[e]}})}),r.select(this).selectAll("table").data([e])),s=i.enter().append("table"),l=s.append("thead"),o=s.append("tbody");l.append("tr").attr("class","header-row").selectAll("th").data(n).enter().append("th").text(function(e){return t(e)});{var u=o.selectAll("tr").data(e).enter().append("tr");u.selectAll("td").data(function(t){return n.map(function(e){return{column:e,value:t[e]}})}).enter().append("td").html(function(t){return t.value})}})}return e}var r=t("d3");e.exports=n},{d3:"d3"}],6:[function(t,e){var n=t("socket.io-client"),r=location.origin.replace(/^http/,"ws"),a=n.connect(r);a.on("connect",function(){document.querySelector(".websockets-connect").style.display="inline",document.querySelector(".websockets-disconnect").style.display="none"}),a.on("disconnect",function(){document.querySelector(".websockets-connect").style.display="none",document.querySelector(".websockets-disconnect").style.display="inline"}),e.exports=a},{"socket.io-client":"socket.io-client"}]},{},[1]);